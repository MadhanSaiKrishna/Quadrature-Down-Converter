Version 4
SHEET 1 3852 1064
WIRE 1408 -608 1376 -608
WIRE 1584 -608 1584 -672
WIRE 1600 -608 1584 -608
WIRE 1728 -608 1664 -608
WIRE 1808 -608 1728 -608
WIRE 1984 -608 1888 -608
WIRE 352 -592 272 -592
WIRE 624 -592 624 -624
WIRE 624 -592 416 -592
WIRE 1984 -592 1984 -608
WIRE 1152 -528 1120 -528
WIRE 1264 -528 1232 -528
WIRE 1728 -512 1728 -608
WIRE 272 -480 272 -592
WIRE 352 -480 272 -480
WIRE 512 -480 432 -480
WIRE 624 -464 624 -592
WIRE 1712 -464 1504 -464
WIRE 1728 -464 1712 -464
WIRE 1888 -464 1808 -464
WIRE 2000 -464 1888 -464
WIRE 2160 -464 2080 -464
WIRE 2176 -464 2160 -464
WIRE 1888 -448 1888 -464
WIRE 1120 -432 1120 -528
WIRE 1152 -432 1120 -432
WIRE 1264 -432 1264 -528
WIRE 1264 -432 1216 -432
WIRE 2160 -432 2160 -464
WIRE 912 -416 752 -416
WIRE -32 -368 -48 -368
WIRE 1760 -368 1760 -464
WIRE 1888 -352 1888 -368
WIRE 2160 -352 2160 -368
WIRE -48 -336 -48 -368
WIRE 752 -288 752 -416
WIRE 816 -288 752 -288
WIRE 176 -272 128 -272
WIRE 272 -272 272 -480
WIRE 272 -272 256 -272
WIRE 304 -272 272 -272
WIRE 912 -272 912 -416
WIRE 912 -272 880 -272
WIRE 1024 -272 912 -272
WIRE 1120 -272 1120 -432
WIRE 1120 -272 1104 -272
WIRE 1152 -272 1120 -272
WIRE 512 -256 512 -480
WIRE 512 -256 368 -256
WIRE 560 -256 560 -304
WIRE 560 -256 512 -256
WIRE 624 -256 624 -384
WIRE 624 -256 560 -256
WIRE 816 -256 624 -256
WIRE 1264 -256 1264 -432
WIRE 1264 -256 1216 -256
WIRE 1328 -256 1328 -304
WIRE 1328 -256 1264 -256
WIRE 1344 -256 1328 -256
WIRE 128 -240 128 -272
WIRE 304 -240 272 -240
WIRE 1152 -240 1104 -240
WIRE 512 -208 512 -256
WIRE 1104 -208 1104 -240
WIRE -48 -96 -48 -128
WIRE -32 -96 -48 -96
WIRE 512 -96 512 -144
WIRE 512 -80 512 -96
WIRE 624 -48 624 -256
WIRE 1488 -16 1456 -16
WIRE 1616 -16 1552 -16
WIRE 1696 -16 1616 -16
WIRE 1872 -16 1776 -16
WIRE 1872 0 1872 -16
WIRE 272 32 272 -240
WIRE 384 32 272 32
WIRE 512 32 512 -16
WIRE 512 32 384 32
WIRE 384 64 384 32
WIRE 384 64 336 64
WIRE 432 64 384 64
WIRE 336 80 336 64
WIRE 1616 80 1616 -16
WIRE 432 96 432 64
WIRE 1600 128 1472 128
WIRE 1776 128 1696 128
WIRE 1888 128 1776 128
WIRE 2064 128 1968 128
WIRE 2112 128 2064 128
WIRE 1776 144 1776 128
WIRE 2064 160 2064 128
WIRE 1648 224 1648 128
WIRE 1776 240 1776 224
WIRE 2064 240 2064 224
WIRE 272 256 272 32
WIRE 352 256 272 256
WIRE 624 256 624 32
WIRE 624 256 416 256
WIRE 624 288 624 256
FLAG 1104 -208 0
FLAG 1184 -288 +VDD
IOPIN 1184 -288 In
FLAG 1184 -224 -VDD
IOPIN 1184 -224 In
FLAG 1328 -304 COSINE
IOPIN 1328 -304 Out
FLAG 1888 -352 0
FLAG 1760 -368 0
FLAG 1984 -512 0
FLAG 1504 -464 Input
IOPIN 1504 -464 In
FLAG 2160 -352 0
FLAG 2176 -464 VIF
IOPIN 2176 -464 Out
FLAG 1584 -672 COSINE
IOPIN 1584 -672 In
FLAG 1776 240 0
FLAG 1648 224 0
FLAG 1872 80 0
FLAG 1456 -16 SINE
IOPIN 1456 -16 In
FLAG 1472 128 Input
IOPIN 1472 128 In
FLAG 2064 240 0
FLAG 2112 128 VQF
IOPIN 2112 128 Out
FLAG 1376 -608 0
FLAG -48 -256 0
FLAG -48 -208 0
FLAG -32 -368 +VDD
IOPIN -32 -368 Out
FLAG -32 -96 -VDD
IOPIN -32 -96 Out
FLAG 336 -288 +VDD
IOPIN 336 -288 In
FLAG 336 -224 -VDD
IOPIN 336 -224 Out
FLAG 128 -240 0
FLAG 336 160 0
FLAG 432 160 0
FLAG 560 -304 SINE
IOPIN 560 -304 Out
FLAG 624 448 0
FLAG 624 -784 0
FLAG -288 -192 0
FLAG -288 -272 Input
IOPIN -288 -272 Out
FLAG 848 -304 +VDD
IOPIN 848 -304 In
FLAG 848 -240 -VDD
IOPIN 848 -240 In
SYMBOL OpAmps\\opamp2 1184 -320 R0
SYMATTR InstName U2
SYMATTR Value UA741
SYMBOL res 1120 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R}
SYMBOL cap 1216 -448 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {C}
SYMBOL res 1248 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R}
SYMBOL nmos4 1808 -512 R90
WINDOW 0 60 4 VRight 2
WINDOW 3 63 66 VRight 2
SYMATTR InstName M3
SYMATTR Value CMOSN
SYMATTR Value2 l=0.18u w=1.8u ad=0.81p as=0.81p pd=4.5u ps=4.5u
SYMBOL res 1872 -464 R0
SYMATTR InstName RL3
SYMATTR Value {RL}
SYMBOL res 1904 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RBIAS3
SYMATTR Value {Rbias}
SYMBOL voltage 1984 -608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 43 70 Left 2
SYMATTR Value {Vbias}
SYMATTR InstName VBIAS3
SYMBOL cap 1664 -624 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cc3
SYMATTR Value {cc}
SYMBOL res 2096 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 3.6K
SYMBOL cap 2144 -432 R0
SYMATTR InstName C4
SYMATTR Value 22n
SYMBOL nmos4 1696 80 R90
WINDOW 0 60 4 VRight 2
WINDOW 3 63 66 VRight 2
SYMATTR InstName M1
SYMATTR Value CMOSN
SYMATTR Value2 l=0.18u w=1.8u ad=0.81p as=0.81p pd=4.5u ps=4.5u
SYMBOL res 1760 128 R0
SYMATTR InstName RL1
SYMATTR Value {RL}
SYMBOL res 1792 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RBIAS1
SYMATTR Value {Rbias}
SYMBOL voltage 1872 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VBIAS1
SYMATTR Value {Vbias}
SYMBOL cap 1552 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cc1
SYMATTR Value {cc}
SYMBOL res 1984 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 3.6K
SYMBOL cap 2048 160 R0
SYMATTR InstName C6
SYMATTR Value 22n
SYMBOL voltage 1504 -608 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 1 100K 0 0 90)
SYMBOL OpAmps\\opamp2 848 -336 R0
SYMATTR InstName U1
SYMATTR Value UA741
SYMBOL voltage -48 -352 R0
WINDOW 0 -102 39 Left 2
WINDOW 3 -64 68 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 2.5
SYMBOL voltage -48 -112 R180
WINDOW 0 40 69 Left 2
WINDOW 3 49 39 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -2.5
SYMBOL OpAmps\\opamp2 336 -320 R0
SYMATTR InstName U4
SYMATTR Value UA741
SYMBOL res 272 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RS1
SYMATTR Value {Rs}
SYMBOL res 448 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rf}
SYMBOL res 320 64 R0
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL cap 416 96 R0
SYMATTR InstName C1
SYMATTR Value {c}
SYMBOL res 496 -112 R0
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL cap 496 -208 R0
SYMATTR InstName C2
SYMATTR Value {c}
SYMBOL diode 352 -576 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode 416 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL res 608 -720 R0
SYMATTR InstName R4
SYMATTR Value 3K
SYMBOL res 608 -480 R0
SYMATTR InstName R5
SYMATTR Value 1K
SYMBOL res 608 -64 R0
SYMATTR InstName R6
SYMATTR Value 1K
SYMBOL res 608 272 R0
SYMATTR InstName R7
SYMATTR Value 3K
SYMBOL voltage 624 -688 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value +15
SYMBOL voltage 624 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value -15
SYMBOL voltage -288 -288 R0
WINDOW 3 -176 129 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {Ain} {fin} 0 0 90)
SYMATTR InstName V6
TEXT -344 128 Left 2 !.include TSMC_180nm.txt
TEXT -344 160 Left 2 !.param Vbias  = 550m Rbias = 1meg
TEXT -344 192 Left 2 !.param cc=10p Aosc=500m fosc=100k
TEXT -344 216 Left 2 !.param Ain = 100m
TEXT -344 248 Left 2 !.step param fin list 95K 98K 99K 101K 102K 105K
TEXT -344 272 Left 2 !.param RL = 1K
TEXT -352 16 Left 2 !.tran 5m
TEXT -352 56 Left 2 !.param R=12k c=45p
TEXT -344 88 Left 2 !.param Rf=50k Rs=10k
TEXT -344 -16 Left 2 !.include UA741.301
